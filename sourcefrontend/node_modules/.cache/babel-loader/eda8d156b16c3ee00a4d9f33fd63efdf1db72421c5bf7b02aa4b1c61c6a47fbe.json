{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import AdminPanel from\"../components/AdminPanel\";import UserManagement from\"../components/UserManagement\";import LoginModal from\"../components/LoginModal\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Admin=_ref=>{let{addAccount,categories,addCategory,removeCategory,reorderCategory,addUser,deleteUser,users,fetchUsers,onLogin,onLogout,isLoggedIn,currentUser,deleteAccount}=_ref;const[currentView,setCurrentView]=useState(\"nicks\");const[showLoginModal,setShowLoginModal]=useState(!isLoggedIn);useEffect(()=>{setShowLoginModal(!isLoggedIn);},[isLoggedIn]);const handleLoginSubmit=async(username,password)=>{const result=await onLogin(username,password);if(result&&result.success){setShowLoginModal(false);}return result;};const handleLogoutClick=()=>{onLogout();setCurrentView(\"nicks\");};const handleCloseLoginModal=()=>{setShowLoginModal(false);};if(!isLoggedIn){return/*#__PURE__*/_jsx(LoginModal,{isOpen:showLoginModal,onClose:handleCloseLoginModal,onLogin:handleLoginSubmit});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-purple-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 py-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-cyan-500 via-blue-600 to-purple-600 rounded-2xl p-2 shadow-2xl\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-xl p-6 border-2 border-cyan-200 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent\",children:\"Trang Qu\\u1EA3n Tr\\u1ECB\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-blue-700\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Xin ch\\xE0o,\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:currentUser===null||currentUser===void 0?void 0:currentUser.username})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-600\",children:(currentUser===null||currentUser===void 0?void 0:currentUser.role)===\"admin\"?\"Qu·∫£n tr·ªã vi√™n\":\"Th√†nh vi√™n\"})]})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:w-64 flex-shrink-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-2xl p-4 border-2 border-cyan-200 shadow-xl backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-blue-800 mb-4 text-center\",children:\"\\u0110i\\u1EC1u h\\u01B0\\u1EDBng\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView(\"nicks\"),className:\"w-full text-left font-bold px-4 py-3 rounded-xl transition-all duration-300 border-2 transform hover:scale-105 \".concat(currentView===\"nicks\"?\"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-2xl border-cyan-400 scale-105\":\"bg-white text-blue-800 border-blue-300 hover:bg-blue-50 hover:border-blue-400\"),children:\"Qu\\u1EA3n L\\xFD Nick Game\"}),(currentUser===null||currentUser===void 0?void 0:currentUser.role)===\"admin\"&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView(\"users\"),className:\"w-full text-left font-bold px-4 py-3 rounded-xl transition-all duration-300 border-2 transform hover:scale-105 \".concat(currentView===\"users\"?\"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-2xl border-cyan-400 scale-105\":\"bg-white text-blue-800 border-blue-300 hover:bg-blue-50 hover:border-blue-400\"),children:\"\\uD83D\\uDC65 Qu\\u1EA3n L\\xFD T\\xE0i Kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogoutClick,className:\"w-full font-bold px-4 py-3 rounded-xl bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700 transition-all duration-300 border-2 border-red-400 transform hover:scale-105 shadow-lg text-center\",children:\"\\u0110\\u0103ng xu\\u1EA5t\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-2xl p-6 border-2 border-cyan-200 shadow-xl backdrop-blur-sm min-h-[600px]\",children:currentView===\"nicks\"?/*#__PURE__*/_jsx(AdminPanel,{addAccount:addAccount,categories:categories,addCategory:addCategory,removeCategory:removeCategory,reorderCategory:reorderCategory,isLoggedIn:isLoggedIn,currentUser:currentUser}):/*#__PURE__*/_jsx(UserManagement,{users:users,onAddUser:addUser,onDeleteUser:deleteUser,currentUser:currentUser,onBackToNicks:()=>setCurrentView(\"nicks\"),deleteAccount:deleteAccount})})})]})]})});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","AdminPanel","UserManagement","LoginModal","jsx","_jsx","jsxs","_jsxs","Admin","_ref","addAccount","categories","addCategory","removeCategory","reorderCategory","addUser","deleteUser","users","fetchUsers","onLogin","onLogout","isLoggedIn","currentUser","deleteAccount","currentView","setCurrentView","showLoginModal","setShowLoginModal","handleLoginSubmit","username","password","result","success","handleLogoutClick","handleCloseLoginModal","isOpen","onClose","className","children","role","onClick","concat","onAddUser","onDeleteUser","onBackToNicks"],"sources":["/home/pmd/bannickpupg/sourcefrontend/src/pages/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport AdminPanel from \"../components/AdminPanel\";\nimport UserManagement from \"../components/UserManagement\";\nimport LoginModal from \"../components/LoginModal\";\n\nconst Admin = ({\n  addAccount,\n  categories,\n  addCategory,\n  removeCategory,\n  reorderCategory,\n  addUser,\n  deleteUser,\n  users,\n  fetchUsers,\n  onLogin,\n  onLogout,\n  isLoggedIn,\n  currentUser,\n  deleteAccount,\n}) => {\n  const [currentView, setCurrentView] = useState(\"nicks\");\n  const [showLoginModal, setShowLoginModal] = useState(!isLoggedIn);\n\n  useEffect(() => {\n    setShowLoginModal(!isLoggedIn);\n  }, [isLoggedIn]);\n\n  const handleLoginSubmit = async (username, password) => {\n    const result = await onLogin(username, password);\n    if (result && result.success) {\n      setShowLoginModal(false);\n    }\n    return result;\n  };\n\n  const handleLogoutClick = () => {\n    onLogout();\n    setCurrentView(\"nicks\");\n  };\n\n  const handleCloseLoginModal = () => {\n    setShowLoginModal(false);\n  };\n\n  if (!isLoggedIn) {\n    return (\n      <LoginModal\n        isOpen={showLoginModal}\n        onClose={handleCloseLoginModal}\n        onLogin={handleLoginSubmit}\n      />\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-purple-50\">\n      <div className=\"max-w-7xl mx-auto px-4 py-6\">\n        {/* HEADER - CH·ªà C√íN TITLE */}\n        <div className=\"mb-6\">\n          <div className=\"bg-gradient-to-r from-cyan-500 via-blue-600 to-purple-600 rounded-2xl p-2 shadow-2xl\">\n            <div className=\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-xl p-6 border-2 border-cyan-200 backdrop-blur-sm\">\n              <div className=\"text-center\">\n                <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent\">\n                  Trang Qu·∫£n Tr·ªã\n                </h1>\n                <div className=\"mt-2 text-blue-700\">\n                  <p>\n                    Xin ch√†o,{\" \"}\n                    <span className=\"font-bold\">{currentUser?.username}</span>\n                  </p>\n                  <p className=\"text-sm text-blue-600\">\n                    {currentUser?.role === \"admin\"\n                      ? \"Qu·∫£n tr·ªã vi√™n\"\n                      : \"Th√†nh vi√™n\"}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* MAIN CONTENT - SIDEBAR + CONTENT */}\n        <div className=\"flex flex-col lg:flex-row gap-6\">\n          {/* SIDEBAR - B√äN TR√ÅI */}\n          <div className=\"lg:w-64 flex-shrink-0\">\n            <div className=\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-2xl p-4 border-2 border-cyan-200 shadow-xl backdrop-blur-sm\">\n              <h3 className=\"text-lg font-bold text-blue-800 mb-4 text-center\">\n                ƒêi·ªÅu h∆∞·ªõng\n              </h3>\n\n              {/* NAVIGATION BUTTONS - T·∫§T C·∫¢ TRONG M·ªòT KH·ªêI */}\n              <div className=\"space-y-3\">\n                <button\n                  onClick={() => setCurrentView(\"nicks\")}\n                  className={`w-full text-left font-bold px-4 py-3 rounded-xl transition-all duration-300 border-2 transform hover:scale-105 ${\n                    currentView === \"nicks\"\n                      ? \"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-2xl border-cyan-400 scale-105\"\n                      : \"bg-white text-blue-800 border-blue-300 hover:bg-blue-50 hover:border-blue-400\"\n                  }`}\n                >\n                  Qu·∫£n L√Ω Nick Game\n                </button>\n\n                {currentUser?.role === \"admin\" && (\n                  <button\n                    onClick={() => setCurrentView(\"users\")}\n                    className={`w-full text-left font-bold px-4 py-3 rounded-xl transition-all duration-300 border-2 transform hover:scale-105 ${\n                      currentView === \"users\"\n                        ? \"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-2xl border-cyan-400 scale-105\"\n                        : \"bg-white text-blue-800 border-blue-300 hover:bg-blue-50 hover:border-blue-400\"\n                    }`}\n                  >\n                    üë• Qu·∫£n L√Ω T√†i Kho·∫£n\n                  </button>\n                )}\n\n                {/* LOGOUT BUTTON - NGAY D∆Ø·ªöI QU·∫¢N L√ù T√ÄI KHO·∫¢N */}\n                <button\n                  onClick={handleLogoutClick}\n                  className=\"w-full font-bold px-4 py-3 rounded-xl bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700 transition-all duration-300 border-2 border-red-400 transform hover:scale-105 shadow-lg text-center\"\n                >\n                  ƒêƒÉng xu·∫•t\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* CONTENT - B√äN PH·∫¢I */}\n          <div className=\"flex-1\">\n            <div className=\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-2xl p-6 border-2 border-cyan-200 shadow-xl backdrop-blur-sm min-h-[600px]\">\n              {currentView === \"nicks\" ? (\n                <AdminPanel\n                  addAccount={addAccount}\n                  categories={categories}\n                  addCategory={addCategory}\n                  removeCategory={removeCategory}\n                  reorderCategory={reorderCategory}\n                  isLoggedIn={isLoggedIn}\n                  currentUser={currentUser}\n                />\n              ) : (\n                <UserManagement\n                  users={users}\n                  onAddUser={addUser}\n                  onDeleteUser={deleteUser}\n                  currentUser={currentUser}\n                  onBackToNicks={() => setCurrentView(\"nicks\")}\n                  deleteAccount={deleteAccount}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Admin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}