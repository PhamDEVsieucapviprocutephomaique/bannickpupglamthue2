{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserManagement=_ref=>{let{users,onAddUser,onDeleteUser,currentUser,onBackToNicks,deleteAccount}=_ref;const navigate=useNavigate();const[showAddForm,setShowAddForm]=useState(false);const[newUsername,setNewUsername]=useState(\"\");const[newPassword,setNewPassword]=useState(\"\");const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[showNicksModal,setShowNicksModal]=useState(false);const[selectedUser,setSelectedUser]=useState(null);const[userNicks,setUserNicks]=useState([]);const[loadingNicks,setLoadingNicks]=useState(false);if((currentUser===null||currentUser===void 0?void 0:currentUser.role)!==\"admin\"){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-red-500 to-pink-600 rounded-2xl p-6 border-2 border-red-400 text-center shadow-2xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white mb-4\",children:\"\\u26A0\\uFE0F Kh\\xF4ng c\\xF3 quy\\u1EC1n truy c\\u1EADp\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-100\",children:\"Ch\\u1EC9 qu\\u1EA3n tr\\u1ECB vi\\xEAn m\\u1EDBi \\u0111\\u01B0\\u1EE3c truy c\\u1EADp trang n\\xE0y.\"})]})});}const handleAddUser=async e=>{e.preventDefault();setLoading(true);setError(\"\");const result=await onAddUser(newUsername,newPassword);if(result&&result.success){setNewUsername(\"\");setNewPassword(\"\");setShowAddForm(false);}else{setError((result===null||result===void 0?void 0:result.error)||\"L·ªói khi th√™m user\");}setLoading(false);};const handleDeleteUser=async(userId,username)=>{if(userId===1){alert(\"Kh√¥ng th·ªÉ x√≥a t√†i kho·∫£n admin!\");return;}if(window.confirm(\"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a user \\\"\".concat(username,\"\\\"?\"))){const result=await onDeleteUser(userId);if(!result.success){alert(result.error);}}};const fetchUserNicks=async(userId,username)=>{setLoadingNicks(true);setSelectedUser({id:userId,username});try{const response=await fetch(\"http://api.shopaccpubgpc.vn/api/users/\".concat(userId,\"/nicks\"));const data=await response.json();setUserNicks(data.nicks||[]);setShowNicksModal(true);}catch(error){console.error(\"Error fetching user nicks:\",error);alert(\"L·ªói khi l·∫•y danh s√°ch nick\");}finally{setLoadingNicks(false);}};const handleDeleteNick=async(nickId,nickTitle)=>{if(window.confirm(\"B\\u1EA1n c\\xF3 ch\\u1EAFc mu\\u1ED1n x\\xF3a nick \\\"\".concat(nickTitle,\"\\\"?\"))){const success=await deleteAccount(nickId);if(success){setUserNicks(userNicks.filter(nick=>nick.id!==nickId));alert(\"ƒê√£ x√≥a nick th√†nh c√¥ng!\");}}};const handleCloseNicksModal=()=>{setShowNicksModal(false);setSelectedUser(null);setUserNicks([]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-3xl shadow-2xl p-6 border-2 border-cyan-200 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent\",children:\"\\uD83D\\uDC65 Qu\\u1EA3n L\\xFD T\\xE0i Kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-600 text-sm mt-2\",children:\"Qu\\u1EA3n l\\xFD t\\u1EA5t c\\u1EA3 t\\xE0i kho\\u1EA3n ng\\u01B0\\u1EDDi d\\xF9ng trong h\\u1EC7 th\\u1ED1ng\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 text-center flex justify-center space-x-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddForm(!showAddForm),className:\"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 font-bold shadow-lg border-2 border-green-400 transform hover:scale-105\",children:showAddForm?\" H·ªßy\":\" Th√™m T√†i Kho·∫£n M·ªõi\"})}),showAddForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-100 to-cyan-100 rounded-xl p-6 mb-6 border-2 border-blue-200 shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-blue-800 mb-4\",children:\"Th\\xEAm t\\xE0i kho\\u1EA3n m\\u1EDBi\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddUser,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-blue-700 font-bold mb-2\",children:\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUsername,onChange:e=>setNewUsername(e.target.value),className:\"w-full px-3 py-2 rounded-xl bg-white border-2 border-blue-200 text-blue-800 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-400\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-blue-700 font-bold mb-2\",children:\"M\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newPassword,onChange:e=>setNewPassword(e.target.value),className:\"w-full px-3 py-2 rounded-xl bg-white border-2 border-blue-200 text-blue-800 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-400\",required:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-red-500 to-pink-600 text-white p-3 rounded-xl text-center border-2 border-red-400\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-bold py-3 rounded-xl hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 disabled:opacity-50 border-2 border-cyan-400 transform hover:scale-105\",children:loading?\" ƒêang th√™m...\":\"Th√™m T√†i Kho·∫£n\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-blue-800 mb-4\",children:[\"Danh s\\xE1ch t\\xE0i kho\\u1EA3n (\",users.length,\")\"]}),users.map(user=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-100 to-cyan-100 rounded-xl p-4 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg \".concat(user.role===\"admin\"?\"bg-gradient-to-r from-purple-500 to-pink-600\":\"bg-gradient-to-r from-cyan-500 to-blue-600\"),children:user.role===\"admin\"?\"A\":\"U\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-800 font-bold\",children:user.username}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium \".concat(user.role===\"admin\"?\"text-purple-600\":\"text-cyan-600\"),children:user.role===\"admin\"?\"Qu·∫£n tr·ªã vi√™n\":\"Ng∆∞·ªùi d√πng\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-600 text-xs\",children:[\"\\u0110\\u0103ng k\\xFD:\",\" \",new Date(user.created_at).toLocaleDateString(\"vi-VN\")]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>fetchUserNicks(user.id,user.username),disabled:loadingNicks,className:\"bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-4 py-2 rounded-xl hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 text-sm font-bold border-2 border-cyan-400 shadow-lg transform hover:scale-105 disabled:opacity-50\",children:[loadingNicks&&(selectedUser===null||selectedUser===void 0?void 0:selectedUser.id)===user.id?\"‚è≥\":\"üìã\",\" \",\"Danh s\\xE1ch nick\"]}),user.id!==1&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteUser(user.id,user.username),className:\"bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-xl hover:from-red-600 hover:to-pink-700 transition-all duration-300 text-sm font-bold border-2 border-red-400 shadow-lg transform hover:scale-105\",children:\"X\\xF3a\"})]})]})},user.id)),users.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-blue-600\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n n\\xE0o trong h\\u1EC7 th\\u1ED1ng\"})})]})]}),showNicksModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto border-2 border-cyan-300 relative backdrop-blur-sm\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseNicksModal,className:\"absolute top-4 right-4 bg-gradient-to-r from-red-500 to-pink-600 text-white text-lg w-10 h-10 rounded-full hover:from-red-600 hover:to-pink-700 transition-all duration-300 z-20 shadow-lg border-2 border-white flex items-center justify-center transform hover:scale-110\",children:\"\\u2715\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent\",children:[\"Danh s\\xE1ch nick c\\u1EE7a \",selectedUser===null||selectedUser===void 0?void 0:selectedUser.username]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-600 text-sm mt-2\",children:[\"T\\u1ED5ng s\\u1ED1: \",userNicks.length,\" nick\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:userNicks.length>0?userNicks.map(nick=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-100 to-cyan-100 rounded-xl p-4 border-2 border-blue-200 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-blue-800 font-bold text-lg\",children:nick.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bg-gradient-to-r from-cyan-500 to-blue-600 text-white text-xs px-2 py-1 rounded-lg\",children:nick.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs px-2 py-1 rounded-lg\",children:[nick.price.toLocaleString(),\" VN\\u0110\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-gradient-to-r from-purple-500 to-pink-600 text-white text-xs px-2 py-1 rounded-lg\",children:new Date(nick.created_at).toLocaleDateString(\"vi-VN\")})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteNick(nick.id,nick.title),className:\"bg-gradient-to-r from-red-500 to-pink-600 text-white px-3 py-2 rounded-xl hover:from-red-600 hover:to-pink-700 transition-all duration-300 text-sm font-bold border-2 border-red-400 shadow-lg transform hover:scale-105 ml-4\",children:\"X\\xF3a\"})]})},nick.id)):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-blue-600\",children:/*#__PURE__*/_jsx(\"p\",{children:\"User n\\xE0y ch\\u01B0a c\\xF3 nick game n\\xE0o\"})})})]})]})})]});};export default UserManagement;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","UserManagement","_ref","users","onAddUser","onDeleteUser","currentUser","onBackToNicks","deleteAccount","navigate","showAddForm","setShowAddForm","newUsername","setNewUsername","newPassword","setNewPassword","loading","setLoading","error","setError","showNicksModal","setShowNicksModal","selectedUser","setSelectedUser","userNicks","setUserNicks","loadingNicks","setLoadingNicks","role","className","children","handleAddUser","e","preventDefault","result","success","handleDeleteUser","userId","username","alert","window","confirm","concat","fetchUserNicks","id","response","fetch","data","json","nicks","console","handleDeleteNick","nickId","nickTitle","filter","nick","handleCloseNicksModal","onClick","onSubmit","type","value","onChange","target","required","disabled","length","map","user","Date","created_at","toLocaleDateString","title","category","price","toLocaleString"],"sources":["/home/pmd/bannickpupg/sourcefrontend/src/components/UserManagement.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst UserManagement = ({\n  users,\n  onAddUser,\n  onDeleteUser,\n  currentUser,\n  onBackToNicks,\n  deleteAccount,\n}) => {\n  const navigate = useNavigate();\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newUsername, setNewUsername] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const [showNicksModal, setShowNicksModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [userNicks, setUserNicks] = useState([]);\n  const [loadingNicks, setLoadingNicks] = useState(false);\n\n  if (currentUser?.role !== \"admin\") {\n    return (\n      <div className=\"max-w-4xl mx-auto p-4\">\n        <div className=\"bg-gradient-to-br from-red-500 to-pink-600 rounded-2xl p-6 border-2 border-red-400 text-center shadow-2xl\">\n          <h2 className=\"text-xl font-bold text-white mb-4\">\n            ‚ö†Ô∏è Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p\n          </h2>\n          <p className=\"text-red-100\">\n            Ch·ªâ qu·∫£n tr·ªã vi√™n m·ªõi ƒë∆∞·ª£c truy c·∫≠p trang n√†y.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  const handleAddUser = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n\n    const result = await onAddUser(newUsername, newPassword);\n\n    if (result && result.success) {\n      setNewUsername(\"\");\n      setNewPassword(\"\");\n      setShowAddForm(false);\n    } else {\n      setError(result?.error || \"L·ªói khi th√™m user\");\n    }\n\n    setLoading(false);\n  };\n\n  const handleDeleteUser = async (userId, username) => {\n    if (userId === 1) {\n      alert(\"Kh√¥ng th·ªÉ x√≥a t√†i kho·∫£n admin!\");\n      return;\n    }\n\n    if (window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a user \"${username}\"?`)) {\n      const result = await onDeleteUser(userId);\n      if (!result.success) {\n        alert(result.error);\n      }\n    }\n  };\n\n  const fetchUserNicks = async (userId, username) => {\n    setLoadingNicks(true);\n    setSelectedUser({ id: userId, username });\n\n    try {\n      const response = await fetch(\n        `http://api.shopaccpubgpc.vn/api/users/${userId}/nicks`\n      );\n      const data = await response.json();\n      setUserNicks(data.nicks || []);\n      setShowNicksModal(true);\n    } catch (error) {\n      console.error(\"Error fetching user nicks:\", error);\n      alert(\"L·ªói khi l·∫•y danh s√°ch nick\");\n    } finally {\n      setLoadingNicks(false);\n    }\n  };\n\n  const handleDeleteNick = async (nickId, nickTitle) => {\n    if (window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a nick \"${nickTitle}\"?`)) {\n      const success = await deleteAccount(nickId);\n      if (success) {\n        setUserNicks(userNicks.filter((nick) => nick.id !== nickId));\n        alert(\"ƒê√£ x√≥a nick th√†nh c√¥ng!\");\n      }\n    }\n  };\n\n  const handleCloseNicksModal = () => {\n    setShowNicksModal(false);\n    setSelectedUser(null);\n    setUserNicks([]);\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-4\">\n      <div className=\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-3xl shadow-2xl p-6 border-2 border-cyan-200 backdrop-blur-sm\">\n        {/* N√öT QUAY L·∫†I */}\n        {/* <div className=\"mb-6 text-center\">\n          <button\n            onClick={onBackToNicks}\n            className=\"bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-6 py-3 rounded-xl hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 font-bold shadow-lg border-2 border-cyan-400 transform hover:scale-105\"\n          >\n            ‚Ü©Ô∏è Quay l·∫°i Qu·∫£n l√Ω Nick\n          </button>\n        </div> */}\n\n        {/* HEADER */}\n        <div className=\"text-center mb-6\">\n          <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent\">\n            üë• Qu·∫£n L√Ω T√†i Kho·∫£n\n          </h1>\n          <p className=\"text-blue-600 text-sm mt-2\">\n            Qu·∫£n l√Ω t·∫•t c·∫£ t√†i kho·∫£n ng∆∞·ªùi d√πng trong h·ªá th·ªëng\n          </p>\n        </div>\n\n        {/* ADD USER & DATABASE BUTTONS */}\n        <div className=\"mb-6 text-center flex justify-center space-x-4\">\n          <button\n            onClick={() => setShowAddForm(!showAddForm)}\n            className=\"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 font-bold shadow-lg border-2 border-green-400 transform hover:scale-105\"\n          >\n            {showAddForm ? \" H·ªßy\" : \" Th√™m T√†i Kho·∫£n M·ªõi\"}\n          </button>\n        </div>\n\n        {/* ADD USER FORM */}\n        {showAddForm && (\n          <div className=\"bg-gradient-to-r from-blue-100 to-cyan-100 rounded-xl p-6 mb-6 border-2 border-blue-200 shadow-lg\">\n            <h3 className=\"text-lg font-bold text-blue-800 mb-4\">\n              Th√™m t√†i kho·∫£n m·ªõi\n            </h3>\n            <form onSubmit={handleAddUser} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-blue-700 font-bold mb-2\">\n                  T√™n ƒëƒÉng nh·∫≠p\n                </label>\n                <input\n                  type=\"text\"\n                  value={newUsername}\n                  onChange={(e) => setNewUsername(e.target.value)}\n                  className=\"w-full px-3 py-2 rounded-xl bg-white border-2 border-blue-200 text-blue-800 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-400\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-blue-700 font-bold mb-2\">\n                  M·∫≠t kh·∫©u\n                </label>\n                <input\n                  type=\"password\"\n                  value={newPassword}\n                  onChange={(e) => setNewPassword(e.target.value)}\n                  className=\"w-full px-3 py-2 rounded-xl bg-white border-2 border-blue-200 text-blue-800 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-400\"\n                  required\n                />\n              </div>\n              {error && (\n                <div className=\"bg-gradient-to-r from-red-500 to-pink-600 text-white p-3 rounded-xl text-center border-2 border-red-400\">\n                  {error}\n                </div>\n              )}\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-bold py-3 rounded-xl hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 disabled:opacity-50 border-2 border-cyan-400 transform hover:scale-105\"\n              >\n                {loading ? \" ƒêang th√™m...\" : \"Th√™m T√†i Kho·∫£n\"}\n              </button>\n            </form>\n          </div>\n        )}\n\n        {/* USERS LIST */}\n        <div className=\"space-y-4\">\n          <h3 className=\"text-lg font-bold text-blue-800 mb-4\">\n            Danh s√°ch t√†i kho·∫£n ({users.length})\n          </h3>\n\n          {users.map((user) => (\n            <div\n              key={user.id}\n              className=\"bg-gradient-to-r from-blue-100 to-cyan-100 rounded-xl p-4 border-2 border-blue-200 shadow-lg hover:shadow-xl transition-all duration-300\"\n            >\n              <div className=\"flex justify-between items-center\">\n                <div className=\"flex items-center space-x-4\">\n                  <div\n                    className={`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg ${\n                      user.role === \"admin\"\n                        ? \"bg-gradient-to-r from-purple-500 to-pink-600\"\n                        : \"bg-gradient-to-r from-cyan-500 to-blue-600\"\n                    }`}\n                  >\n                    {user.role === \"admin\" ? \"A\" : \"U\"}\n                  </div>\n                  <div>\n                    <p className=\"text-blue-800 font-bold\">{user.username}</p>\n                    <p\n                      className={`text-sm font-medium ${\n                        user.role === \"admin\"\n                          ? \"text-purple-600\"\n                          : \"text-cyan-600\"\n                      }`}\n                    >\n                      {user.role === \"admin\" ? \"Qu·∫£n tr·ªã vi√™n\" : \"Ng∆∞·ªùi d√πng\"}\n                    </p>\n                    <p className=\"text-blue-600 text-xs\">\n                      ƒêƒÉng k√Ω:{\" \"}\n                      {new Date(user.created_at).toLocaleDateString(\"vi-VN\")}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex space-x-2\">\n                  <button\n                    onClick={() => fetchUserNicks(user.id, user.username)}\n                    disabled={loadingNicks}\n                    className=\"bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-4 py-2 rounded-xl hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 text-sm font-bold border-2 border-cyan-400 shadow-lg transform hover:scale-105 disabled:opacity-50\"\n                  >\n                    {loadingNicks && selectedUser?.id === user.id ? \"‚è≥\" : \"üìã\"}{\" \"}\n                    Danh s√°ch nick\n                  </button>\n\n                  {user.id !== 1 && (\n                    <button\n                      onClick={() => handleDeleteUser(user.id, user.username)}\n                      className=\"bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-xl hover:from-red-600 hover:to-pink-700 transition-all duration-300 text-sm font-bold border-2 border-red-400 shadow-lg transform hover:scale-105\"\n                    >\n                      X√≥a\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {users.length === 0 && (\n            <div className=\"text-center py-8 text-blue-600\">\n              <p>Ch∆∞a c√≥ t√†i kho·∫£n n√†o trong h·ªá th·ªëng</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* MODAL DANH S√ÅCH NICK */}\n      {showNicksModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-gradient-to-br from-white via-blue-50 to-cyan-50 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto border-2 border-cyan-300 relative backdrop-blur-sm\">\n            <button\n              onClick={handleCloseNicksModal}\n              className=\"absolute top-4 right-4 bg-gradient-to-r from-red-500 to-pink-600 text-white text-lg w-10 h-10 rounded-full hover:from-red-600 hover:to-pink-700 transition-all duration-300 z-20 shadow-lg border-2 border-white flex items-center justify-center transform hover:scale-110\"\n            >\n              ‚úï\n            </button>\n\n            <div className=\"relative z-10 p-6\">\n              <div className=\"text-center mb-6\">\n                <h2 className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-cyan-600 bg-clip-text text-transparent\">\n                  Danh s√°ch nick c·ªßa {selectedUser?.username}\n                </h2>\n                <p className=\"text-blue-600 text-sm mt-2\">\n                  T·ªïng s·ªë: {userNicks.length} nick\n                </p>\n              </div>\n\n              <div className=\"space-y-3\">\n                {userNicks.length > 0 ? (\n                  userNicks.map((nick) => (\n                    <div\n                      key={nick.id}\n                      className=\"bg-gradient-to-r from-blue-100 to-cyan-100 rounded-xl p-4 border-2 border-blue-200 shadow-lg\"\n                    >\n                      <div className=\"flex justify-between items-center\">\n                        <div className=\"flex-1\">\n                          <h3 className=\"text-blue-800 font-bold text-lg\">\n                            {nick.title}\n                          </h3>\n                          <div className=\"flex flex-wrap gap-2 mt-2\">\n                            <span className=\"bg-gradient-to-r from-cyan-500 to-blue-600 text-white text-xs px-2 py-1 rounded-lg\">\n                              {nick.category}\n                            </span>\n                            <span className=\"bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs px-2 py-1 rounded-lg\">\n                              {nick.price.toLocaleString()} VNƒê\n                            </span>\n                            <span className=\"bg-gradient-to-r from-purple-500 to-pink-600 text-white text-xs px-2 py-1 rounded-lg\">\n                              {new Date(nick.created_at).toLocaleDateString(\n                                \"vi-VN\"\n                              )}\n                            </span>\n                          </div>\n                        </div>\n                        <button\n                          onClick={() => handleDeleteNick(nick.id, nick.title)}\n                          className=\"bg-gradient-to-r from-red-500 to-pink-600 text-white px-3 py-2 rounded-xl hover:from-red-600 hover:to-pink-700 transition-all duration-300 text-sm font-bold border-2 border-red-400 shadow-lg transform hover:scale-105 ml-4\"\n                        >\n                          X√≥a\n                        </button>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"text-center py-8 text-blue-600\">\n                    <p>User n√†y ch∆∞a c√≥ nick game n√†o</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}