{"ast":null,"code":"var _jsxFileName = \"/home/pmd/bannickpupg/sourcefrontend/src/pages/Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport AdminPanel from \"../components/AdminPanel\";\nimport UserManagement from \"../components/UserManagement\";\nimport LoginModal from \"../components/LoginModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Admin = ({\n  addAccount,\n  categories,\n  addCategory,\n  removeCategory,\n  reorderCategory,\n  addUser,\n  deleteUser,\n  users,\n  fetchUsers,\n  onLogin,\n  onLogout,\n  isLoggedIn,\n  currentUser,\n  deleteAccount // TH√äM PROP N√ÄY\n}) => {\n  _s();\n  const [currentView, setCurrentView] = useState(\"nicks\");\n  const [showLoginModal, setShowLoginModal] = useState(!isLoggedIn);\n\n  // THEO D√ïI isLoggedIn ƒê·ªÇ ·∫®N/HI·ªÜN MODAL\n  useEffect(() => {\n    setShowLoginModal(!isLoggedIn);\n  }, [isLoggedIn]);\n\n  // HANDLE LOGIN\n  const handleLoginSubmit = async (username, password) => {\n    const result = await onLogin(username, password);\n    if (result && result.success) {\n      setShowLoginModal(false);\n    }\n    return result;\n  };\n\n  // HANDLE LOGOUT\n  const handleLogoutClick = () => {\n    onLogout();\n    setCurrentView(\"nicks\");\n  };\n\n  // TH√äM H√ÄM N√ÄY - CHO PH√âP ƒê√ìNG MODAL\n  const handleCloseLoginModal = () => {\n    setShowLoginModal(false);\n  };\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(LoginModal, {\n      isOpen: showLoginModal,\n      onClose: handleCloseLoginModal,\n      onLogin: handleLoginSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen py-8 relative\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-4xl mx-auto mb-6 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-purple-900 via-pink-800 to-red-900 rounded-2xl p-4 border-2 border-yellow-400 inline-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView(\"nicks\"),\n              className: `font-bold px-6 py-3 rounded-2xl transition-all duration-300 text-lg border-2 ${currentView === \"nicks\" ? \"bg-gradient-to-r from-yellow-400 to-orange-500 text-purple-900 shadow-2xl border-white\" : \"bg-gradient-to-r from-purple-700 to-pink-600 text-white hover:from-purple-600 hover:to-pink-500 border-yellow-400\"}`,\n              children: \"\\u26A1 Qu\\u1EA3n L\\xFD Nick Game\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === \"admin\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentView(\"users\"),\n              className: `font-bold px-6 py-3 rounded-2xl transition-all duration-300 text-lg border-2 ${currentView === \"users\" ? \"bg-gradient-to-r from-yellow-400 to-orange-500 text-purple-900 shadow-2xl border-white\" : \"bg-gradient-to-r from-purple-700 to-pink-600 text-white hover:from-purple-600 hover:to-pink-500 border-yellow-400\"}`,\n              children: \"\\uD83D\\uDC65 Qu\\u1EA3n L\\xFD T\\xE0i Kho\\u1EA3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogoutClick,\n              className: \"font-bold px-4 py-3 rounded-2xl bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700 transition-all duration-300 border-2 border-white\",\n              title: \"\\u0110\\u0103ng xu\\u1EA5t\",\n              children: \"\\u0110\\u0103ng xu\\u1EA5t\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-yellow-300\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Xin ch\\xE0o,\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-bold\",\n                children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), \" (\", (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) === \"admin\" ? \"Qu·∫£n tr·ªã vi√™n\" : \"Th√†nh vi√™n\", \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), currentView === \"nicks\" ? /*#__PURE__*/_jsxDEV(AdminPanel, {\n        addAccount: addAccount,\n        categories: categories,\n        addCategory: addCategory,\n        removeCategory: removeCategory,\n        reorderCategory: reorderCategory,\n        isLoggedIn: isLoggedIn,\n        currentUser: currentUser\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(UserManagement, {\n        users: users,\n        onAddUser: addUser,\n        onDeleteUser: deleteUser,\n        currentUser: currentUser,\n        onBackToNicks: () => setCurrentView(\"nicks\"),\n        deleteAccount: deleteAccount // TRUY·ªÄN H√ÄM X√ìA XU·ªêNG\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(Admin, \"zwTaGwbT7IiGhCizRC1aAPoyRnE=\");\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","useEffect","AdminPanel","UserManagement","LoginModal","jsxDEV","_jsxDEV","Admin","addAccount","categories","addCategory","removeCategory","reorderCategory","addUser","deleteUser","users","fetchUsers","onLogin","onLogout","isLoggedIn","currentUser","deleteAccount","_s","currentView","setCurrentView","showLoginModal","setShowLoginModal","handleLoginSubmit","username","password","result","success","handleLogoutClick","handleCloseLoginModal","isOpen","onClose","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","role","title","onAddUser","onDeleteUser","onBackToNicks","_c","$RefreshReg$"],"sources":["/home/pmd/bannickpupg/sourcefrontend/src/pages/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport AdminPanel from \"../components/AdminPanel\";\nimport UserManagement from \"../components/UserManagement\";\nimport LoginModal from \"../components/LoginModal\";\n\nconst Admin = ({\n  addAccount,\n  categories,\n  addCategory,\n  removeCategory,\n  reorderCategory,\n  addUser,\n  deleteUser,\n  users,\n  fetchUsers,\n  onLogin,\n  onLogout,\n  isLoggedIn,\n  currentUser,\n  deleteAccount, // TH√äM PROP N√ÄY\n}) => {\n  const [currentView, setCurrentView] = useState(\"nicks\");\n  const [showLoginModal, setShowLoginModal] = useState(!isLoggedIn);\n\n  // THEO D√ïI isLoggedIn ƒê·ªÇ ·∫®N/HI·ªÜN MODAL\n  useEffect(() => {\n    setShowLoginModal(!isLoggedIn);\n  }, [isLoggedIn]);\n\n  // HANDLE LOGIN\n  const handleLoginSubmit = async (username, password) => {\n    const result = await onLogin(username, password);\n    if (result && result.success) {\n      setShowLoginModal(false);\n    }\n    return result;\n  };\n\n  // HANDLE LOGOUT\n  const handleLogoutClick = () => {\n    onLogout();\n    setCurrentView(\"nicks\");\n  };\n\n  // TH√äM H√ÄM N√ÄY - CHO PH√âP ƒê√ìNG MODAL\n  const handleCloseLoginModal = () => {\n    setShowLoginModal(false);\n  };\n\n  if (!isLoggedIn) {\n    return (\n      <LoginModal\n        isOpen={showLoginModal}\n        onClose={handleCloseLoginModal}\n        onLogin={handleLoginSubmit}\n      />\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen py-8 relative\">\n      <div className=\"relative z-10\">\n        {/* HEADER SWITCHER */}\n        <div className=\"max-w-4xl mx-auto mb-6 text-center\">\n          <div className=\"bg-gradient-to-r from-purple-900 via-pink-800 to-red-900 rounded-2xl p-4 border-2 border-yellow-400 inline-block\">\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={() => setCurrentView(\"nicks\")}\n                className={`font-bold px-6 py-3 rounded-2xl transition-all duration-300 text-lg border-2 ${\n                  currentView === \"nicks\"\n                    ? \"bg-gradient-to-r from-yellow-400 to-orange-500 text-purple-900 shadow-2xl border-white\"\n                    : \"bg-gradient-to-r from-purple-700 to-pink-600 text-white hover:from-purple-600 hover:to-pink-500 border-yellow-400\"\n                }`}\n              >\n                ‚ö° Qu·∫£n L√Ω Nick Game\n              </button>\n\n              {/* CH·ªà ADMIN G·ªêC M·ªöI TH·∫§Y N√öT QU·∫¢N L√ù T√ÄI KHO·∫¢N */}\n              {currentUser?.role === \"admin\" && (\n                <button\n                  onClick={() => setCurrentView(\"users\")}\n                  className={`font-bold px-6 py-3 rounded-2xl transition-all duration-300 text-lg border-2 ${\n                    currentView === \"users\"\n                      ? \"bg-gradient-to-r from-yellow-400 to-orange-500 text-purple-900 shadow-2xl border-white\"\n                      : \"bg-gradient-to-r from-purple-700 to-pink-600 text-white hover:from-purple-600 hover:to-pink-500 border-yellow-400\"\n                  }`}\n                >\n                  üë• Qu·∫£n L√Ω T√†i Kho·∫£n\n                </button>\n              )}\n\n              {/* LOGOUT BUTTON */}\n              <button\n                onClick={handleLogoutClick}\n                className=\"font-bold px-4 py-3 rounded-2xl bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700 transition-all duration-300 border-2 border-white\"\n                title=\"ƒêƒÉng xu·∫•t\"\n              >\n                ƒêƒÉng xu·∫•t\n              </button>\n            </div>\n\n            {/* USER INFO */}\n            <div className=\"mt-3 text-yellow-300\">\n              <p>\n                Xin ch√†o,{\" \"}\n                <span className=\"font-bold\">{currentUser?.username}</span> (\n                {currentUser?.role === \"admin\" ? \"Qu·∫£n tr·ªã vi√™n\" : \"Th√†nh vi√™n\"}\n                )\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* CONTENT */}\n        {currentView === \"nicks\" ? (\n          <AdminPanel\n            addAccount={addAccount}\n            categories={categories}\n            addCategory={addCategory}\n            removeCategory={removeCategory}\n            reorderCategory={reorderCategory}\n            isLoggedIn={isLoggedIn}\n            currentUser={currentUser}\n          />\n        ) : (\n          <UserManagement\n            users={users}\n            onAddUser={addUser}\n            onDeleteUser={deleteUser}\n            currentUser={currentUser}\n            onBackToNicks={() => setCurrentView(\"nicks\")}\n            deleteAccount={deleteAccount} // TRUY·ªÄN H√ÄM X√ìA XU·ªêNG\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Admin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}