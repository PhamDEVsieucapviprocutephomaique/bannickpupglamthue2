{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VisitorCounter=_ref=>{let{count}=_ref;const[displayCount,setDisplayCount]=useState(0);const[progress,setProgress]=useState(0);const animationRef=useRef(null);const hasAnimated=useRef(false);// ðŸ‘ˆ THÃŠM DÃ’NG NÃ€Y\nuseEffect(()=>{// ðŸ‘ˆ CHá»ˆ CHáº Y ANIMATION 1 Láº¦N DUY NHáº¤T\nif(hasAnimated.current){setDisplayCount(count);setProgress(1);return;}if(count>0){hasAnimated.current=true;// ðŸ‘ˆ ÄÃNH Dáº¤U ÄÃƒ CHáº Y\nconst duration=2000;// 1 GIÃ‚Y\nconst startTime=Date.now();const updateCounter=()=>{const elapsed=Date.now()-startTime;const progress=Math.min(elapsed/duration,1);setProgress(progress);setDisplayCount(Math.floor(count*progress));if(progress<1){animationRef.current=requestAnimationFrame(updateCounter);}else{setDisplayCount(count);setProgress(1);}};animationRef.current=requestAnimationFrame(updateCounter);}return()=>{if(animationRef.current){cancelAnimationFrame(animationRef.current);}};},[count]);return/*#__PURE__*/_jsxs(\"div\",{className:\"w-4/5 mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent\",children:displayCount.toLocaleString()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-300 text-sm mt-1\",children:\"L\\u01B0\\u1EE3t Truy C\\u1EADp\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-blue-800 bg-opacity-50 rounded-full h-3 overflow-hidden border border-cyan-400 border-opacity-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-cyan-400 to-blue-500 h-3 rounded-full transition-all duration-100 ease-out shadow-lg\",style:{width:\"\".concat(progress*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-2 mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-cyan-400 rounded-full transition-all duration-300 \".concat(progress>0.3?\"opacity-100 animate-pulse\":\"opacity-30\")}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-400 rounded-full transition-all duration-300 \".concat(progress>0.6?\"opacity-100 animate-pulse\":\"opacity-30\"),style:{animationDelay:\"0.2s\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-purple-400 rounded-full transition-all duration-300 \".concat(progress>0.9?\"opacity-100 animate-pulse\":\"opacity-30\"),style:{animationDelay:\"0.4s\"}})]})]});};export default VisitorCounter;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","VisitorCounter","_ref","count","displayCount","setDisplayCount","progress","setProgress","animationRef","hasAnimated","current","duration","startTime","Date","now","updateCounter","elapsed","Math","min","floor","requestAnimationFrame","cancelAnimationFrame","className","children","toLocaleString","style","width","concat","animationDelay"],"sources":["/home/pmd/bannickpupg/sourcefrontend/src/components/VisitorCounter.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n\nconst VisitorCounter = ({ count }) => {\n  const [displayCount, setDisplayCount] = useState(0);\n  const [progress, setProgress] = useState(0);\n  const animationRef = useRef(null);\n  const hasAnimated = useRef(false); // ðŸ‘ˆ THÃŠM DÃ’NG NÃ€Y\n\n  useEffect(() => {\n    // ðŸ‘ˆ CHá»ˆ CHáº Y ANIMATION 1 Láº¦N DUY NHáº¤T\n    if (hasAnimated.current) {\n      setDisplayCount(count);\n      setProgress(1);\n      return;\n    }\n\n    if (count > 0) {\n      hasAnimated.current = true; // ðŸ‘ˆ ÄÃNH Dáº¤U ÄÃƒ CHáº Y\n\n      const duration = 2000; // 1 GIÃ‚Y\n      const startTime = Date.now();\n\n      const updateCounter = () => {\n        const elapsed = Date.now() - startTime;\n        const progress = Math.min(elapsed / duration, 1);\n\n        setProgress(progress);\n        setDisplayCount(Math.floor(count * progress));\n\n        if (progress < 1) {\n          animationRef.current = requestAnimationFrame(updateCounter);\n        } else {\n          setDisplayCount(count);\n          setProgress(1);\n        }\n      };\n\n      animationRef.current = requestAnimationFrame(updateCounter);\n    }\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [count]);\n\n  return (\n    <div className=\"w-4/5 mx-auto\">\n      {/* COUNTER DISPLAY */}\n      <div className=\"text-center mb-3\">\n        <span className=\"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent\">\n          {displayCount.toLocaleString()}\n        </span>\n        <p className=\"text-blue-300 text-sm mt-1\">LÆ°á»£t Truy Cáº­p</p>\n      </div>\n\n      {/* PROGRESS BAR - STANDALONE */}\n      <div className=\"w-full bg-blue-800 bg-opacity-50 rounded-full h-3 overflow-hidden border border-cyan-400 border-opacity-50\">\n        <div\n          className=\"bg-gradient-to-r from-cyan-400 to-blue-500 h-3 rounded-full transition-all duration-100 ease-out shadow-lg\"\n          style={{ width: `${progress * 100}%` }}\n        ></div>\n      </div>\n\n      {/* ANIMATED DOTS */}\n      <div className=\"flex justify-center space-x-2 mt-3\">\n        <div\n          className={`w-2 h-2 bg-cyan-400 rounded-full transition-all duration-300 ${\n            progress > 0.3 ? \"opacity-100 animate-pulse\" : \"opacity-30\"\n          }`}\n        ></div>\n        <div\n          className={`w-2 h-2 bg-blue-400 rounded-full transition-all duration-300 ${\n            progress > 0.6 ? \"opacity-100 animate-pulse\" : \"opacity-30\"\n          }`}\n          style={{ animationDelay: \"0.2s\" }}\n        ></div>\n        <div\n          className={`w-2 h-2 bg-purple-400 rounded-full transition-all duration-300 ${\n            progress > 0.9 ? \"opacity-100 animate-pulse\" : \"opacity-30\"\n          }`}\n          style={{ animationDelay: \"0.4s\" }}\n        ></div>\n      </div>\n    </div>\n  );\n};\n\nexport default VisitorCounter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}