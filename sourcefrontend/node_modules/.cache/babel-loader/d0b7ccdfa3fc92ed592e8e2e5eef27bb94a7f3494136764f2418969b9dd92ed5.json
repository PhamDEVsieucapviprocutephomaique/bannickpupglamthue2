{"ast":null,"code":"var _jsxFileName = \"/home/pmd/bannickpupg/sourcefrontend/src/components/UserManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserManagement = ({\n  users,\n  onAddUser,\n  onDeleteUser,\n  currentUser,\n  onBackToNicks,\n  deleteAccount\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newUsername, setNewUsername] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // TH√äM STATE CHO MODAL DANH S√ÅCH NICK\n  const [showNicksModal, setShowNicksModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [userNicks, setUserNicks] = useState([]);\n  const [loadingNicks, setLoadingNicks] = useState(false);\n\n  // CH·ªà ADMIN ƒê∆Ø·ª¢C TRUY C·∫¨P\n  if ((currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) !== \"admin\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-red-900 to-pink-800 rounded-2xl p-6 border-2 border-yellow-400 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-white mb-4\",\n          children: \"\\u26A0\\uFE0F Kh\\xF4ng c\\xF3 quy\\u1EC1n truy c\\u1EADp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-yellow-300\",\n          children: \"Ch\\u1EC9 qu\\u1EA3n tr\\u1ECB vi\\xEAn m\\u1EDBi \\u0111\\u01B0\\u1EE3c truy c\\u1EADp trang n\\xE0y.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  }\n  const handleAddUser = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n    const result = await onAddUser(newUsername, newPassword);\n    if (result && result.success) {\n      setNewUsername(\"\");\n      setNewPassword(\"\");\n      setShowAddForm(false);\n    } else {\n      setError((result === null || result === void 0 ? void 0 : result.error) || \"L·ªói khi th√™m user\");\n    }\n    setLoading(false);\n  };\n  const handleDeleteUser = async (userId, username) => {\n    if (userId === 1) {\n      alert(\"Kh√¥ng th·ªÉ x√≥a t√†i kho·∫£n admin!\");\n      return;\n    }\n    if (window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a user \"${username}\"?`)) {\n      const result = await onDeleteUser(userId);\n      if (!result.success) {\n        alert(result.error);\n      }\n    }\n  };\n\n  // H√ÄM M·ªöI: L·∫§Y DANH S√ÅCH NICK C·ª¶A USER\n  const fetchUserNicks = async (userId, username) => {\n    setLoadingNicks(true);\n    setSelectedUser({\n      id: userId,\n      username\n    });\n    try {\n      const response = await fetch(`https://bebannickgam-deploy-2.onrender.com/api/users/${userId}/nicks`);\n      const data = await response.json();\n      setUserNicks(data.nicks || []);\n      setShowNicksModal(true);\n    } catch (error) {\n      console.error(\"Error fetching user nicks:\", error);\n      alert(\"L·ªói khi l·∫•y danh s√°ch nick\");\n    } finally {\n      setLoadingNicks(false);\n    }\n  };\n\n  // H√ÄM M·ªöI: X√ìA NICK TRONG MODAL\n  const handleDeleteNick = async (nickId, nickTitle) => {\n    if (window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a nick \"${nickTitle}\"?`)) {\n      const success = await deleteAccount(nickId);\n      if (success) {\n        // C·∫¨P NH·∫¨T L·∫†I DANH S√ÅCH NICK SAU KHI X√ìA\n        setUserNicks(userNicks.filter(nick => nick.id !== nickId));\n        alert(\"ƒê√£ x√≥a nick th√†nh c√¥ng!\");\n      }\n    }\n  };\n\n  // H√ÄM M·ªöI: ƒê√ìNG MODAL\n  const handleCloseNicksModal = () => {\n    setShowNicksModal(false);\n    setSelectedUser(null);\n    setUserNicks([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-br from-purple-900 via-pink-800 to-red-900 rounded-2xl shadow-xl p-6 border-2 border-yellow-400\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onBackToNicks,\n          className: \"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 font-bold shadow-lg border-2 border-white transform hover:scale-105\",\n          children: \"\\u21A9\\uFE0F Quay l\\u1EA1i Qu\\u1EA3n l\\xFD Nick\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold bg-gradient-to-r from-yellow-300 via-pink-400 to-purple-400 bg-clip-text text-transparent\",\n          children: \"\\uD83D\\uDC65 Qu\\u1EA3n L\\xFD T\\xE0i Kho\\u1EA3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-yellow-300 text-sm mt-2\",\n          children: \"Qu\\u1EA3n l\\xFD t\\u1EA5t c\\u1EA3 t\\xE0i kho\\u1EA3n ng\\u01B0\\u1EDDi d\\xF9ng trong h\\u1EC7 th\\u1ED1ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 text-center flex justify-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAddForm(!showAddForm),\n          className: \"bg-gradient-to-r from-green-400 to-teal-500 text-white px-6 py-3 rounded-lg hover:from-green-500 hover:to-teal-600 transition-all duration-300 font-bold shadow-lg border-2 border-white transform hover:scale-105\",\n          children: showAddForm ? \"‚ùå H·ªßy\" : \"‚ûï Th√™m T√†i Kho·∫£n M·ªõi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.id) === 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(\"/database\"),\n          className: \"bg-gradient-to-r from-purple-500 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-pink-700 transition-all duration-300 font-bold shadow-lg border-2 border-white transform hover:scale-105\",\n          children: \"\\uD83D\\uDDC3\\uFE0F C\\u01A1 S\\u1EDF D\\u1EEF Li\\u1EC7u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), showAddForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-purple-800 to-pink-700 rounded-lg p-6 mb-6 border-2 border-yellow-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-yellow-400 mb-4\",\n          children: \"Th\\xEAm t\\xE0i kho\\u1EA3n m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleAddUser,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-yellow-300 font-medium mb-2\",\n              children: \"T\\xEAn \\u0111\\u0103ng nh\\u1EADp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newUsername,\n              onChange: e => setNewUsername(e.target.value),\n              className: \"w-full px-3 py-2 rounded-lg bg-purple-900 border-2 border-yellow-400 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-yellow-300 font-medium mb-2\",\n              children: \"M\\u1EADt kh\\u1EA9u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: newPassword,\n              onChange: e => setNewPassword(e.target.value),\n              className: \"w-full px-3 py-2 rounded-lg bg-purple-900 border-2 border-yellow-400 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-500 text-white p-3 rounded-lg text-center\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading,\n            className: \"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-purple-900 font-bold py-3 rounded-lg hover:from-yellow-500 hover:to-orange-600 transition-all duration-300 disabled:opacity-50\",\n            children: loading ? \"‚è≥ ƒêang th√™m...\" : \"üíæ Th√™m T√†i Kho·∫£n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold text-yellow-400 mb-4\",\n          children: [\"Danh s\\xE1ch t\\xE0i kho\\u1EA3n (\", users.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-purple-700 to-pink-600 rounded-lg p-4 border-2 border-yellow-400\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${user.role === \"admin\" ? \"bg-gradient-to-r from-red-500 to-pink-600\" : \"bg-gradient-to-r from-blue-500 to-purple-600\"}`,\n                children: user.role === \"admin\" ? \"A\" : \"U\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-white font-bold\",\n                  children: user.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `text-sm ${user.role === \"admin\" ? \"text-red-300\" : \"text-blue-300\"}`,\n                  children: user.role === \"admin\" ? \"Qu·∫£n tr·ªã vi√™n\" : \"Ng∆∞·ªùi d√πng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-300 text-xs\",\n                  children: [\"\\u0110\\u0103ng k\\xFD:\", \" \", new Date(user.created_at).toLocaleDateString(\"vi-VN\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => fetchUserNicks(user.id, user.username),\n                disabled: loadingNicks,\n                className: \"bg-gradient-to-r from-blue-400 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-blue-500 hover:to-purple-600 transition-all duration-300 text-sm font-bold border border-white disabled:opacity-50\",\n                title: \"Xem danh s\\xE1ch nick\",\n                children: [loadingNicks && (selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.id) === user.id ? \"‚è≥\" : \"üìã\", \" \", \"Danh s\\xE1ch nick\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this), user.id !== 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteUser(user.id, user.username),\n                className: \"bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-lg hover:from-red-600 hover:to-pink-700 transition-all duration-300 text-sm font-bold border border-white\",\n                title: \"X\\xF3a user\",\n                children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)), users.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-yellow-300\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n n\\xE0o trong h\\u1EC7 th\\u1ED1ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), showNicksModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-purple-900 via-pink-800 to-red-900 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto border-2 border-yellow-400 relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCloseNicksModal,\n          className: \"absolute top-4 right-4 bg-gradient-to-r from-red-500 to-pink-600 text-white text-lg w-10 h-10 rounded-full hover:from-red-600 hover:to-pink-700 transition-all duration-300 z-20 shadow-lg border border-white flex items-center justify-center\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative z-10 p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-bold bg-gradient-to-r from-yellow-300 via-pink-400 to-purple-400 bg-clip-text text-transparent\",\n              children: [\"\\uD83D\\uDCCB Danh s\\xE1ch nick c\\u1EE7a \", selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-yellow-300 text-sm mt-2\",\n              children: [\"T\\u1ED5ng s\\u1ED1: \", userNicks.length, \" nick\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: userNicks.length > 0 ? userNicks.map(nick => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-purple-800 to-pink-700 rounded-lg p-4 border-2 border-yellow-400\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-white font-bold text-lg\",\n                    children: nick.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-2 mt-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"bg-yellow-500 text-purple-900 text-xs px-2 py-1 rounded\",\n                      children: nick.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"bg-green-500 text-white text-xs px-2 py-1 rounded\",\n                      children: [nick.price.toLocaleString(), \" VN\\u0110\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"bg-blue-500 text-white text-xs px-2 py-1 rounded\",\n                      children: new Date(nick.created_at).toLocaleDateString(\"vi-VN\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteNick(nick.id, nick.title),\n                  className: \"bg-gradient-to-r from-red-500 to-pink-600 text-white px-3 py-2 rounded-lg hover:from-red-600 hover:to-pink-700 transition-all duration-300 text-sm font-bold border border-white ml-4\",\n                  title: \"X\\xF3a nick\",\n                  children: \"\\uD83D\\uDDD1\\uFE0F X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 23\n              }, this)\n            }, nick.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 21\n            }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-yellow-300\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"User n\\xE0y ch\\u01B0a c\\xF3 nick game n\\xE0o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s(UserManagement, \"ICrfonmg86pRynJJum87JO1/KXE=\", false, function () {\n  return [useNavigate];\n});\n_c = UserManagement;\nexport default UserManagement;\nvar _c;\n$RefreshReg$(_c, \"UserManagement\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","UserManagement","users","onAddUser","onDeleteUser","currentUser","onBackToNicks","deleteAccount","_s","navigate","showAddForm","setShowAddForm","newUsername","setNewUsername","newPassword","setNewPassword","loading","setLoading","error","setError","showNicksModal","setShowNicksModal","selectedUser","setSelectedUser","userNicks","setUserNicks","loadingNicks","setLoadingNicks","role","className","children","fileName","_jsxFileName","lineNumber","columnNumber","handleAddUser","e","preventDefault","result","success","handleDeleteUser","userId","username","alert","window","confirm","fetchUserNicks","id","response","fetch","data","json","nicks","console","handleDeleteNick","nickId","nickTitle","filter","nick","handleCloseNicksModal","onClick","onSubmit","type","value","onChange","target","required","disabled","length","map","user","Date","created_at","toLocaleDateString","title","category","price","toLocaleString","_c","$RefreshReg$"],"sources":["/home/pmd/bannickpupg/sourcefrontend/src/components/UserManagement.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst UserManagement = ({\n  users,\n  onAddUser,\n  onDeleteUser,\n  currentUser,\n  onBackToNicks,\n  deleteAccount,\n}) => {\n  const navigate = useNavigate();\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newUsername, setNewUsername] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // TH√äM STATE CHO MODAL DANH S√ÅCH NICK\n  const [showNicksModal, setShowNicksModal] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [userNicks, setUserNicks] = useState([]);\n  const [loadingNicks, setLoadingNicks] = useState(false);\n\n  // CH·ªà ADMIN ƒê∆Ø·ª¢C TRUY C·∫¨P\n  if (currentUser?.role !== \"admin\") {\n    return (\n      <div className=\"max-w-4xl mx-auto p-4\">\n        <div className=\"bg-gradient-to-br from-red-900 to-pink-800 rounded-2xl p-6 border-2 border-yellow-400 text-center\">\n          <h2 className=\"text-xl font-bold text-white mb-4\">\n            ‚ö†Ô∏è Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p\n          </h2>\n          <p className=\"text-yellow-300\">\n            Ch·ªâ qu·∫£n tr·ªã vi√™n m·ªõi ƒë∆∞·ª£c truy c·∫≠p trang n√†y.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  const handleAddUser = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n\n    const result = await onAddUser(newUsername, newPassword);\n\n    if (result && result.success) {\n      setNewUsername(\"\");\n      setNewPassword(\"\");\n      setShowAddForm(false);\n    } else {\n      setError(result?.error || \"L·ªói khi th√™m user\");\n    }\n\n    setLoading(false);\n  };\n\n  const handleDeleteUser = async (userId, username) => {\n    if (userId === 1) {\n      alert(\"Kh√¥ng th·ªÉ x√≥a t√†i kho·∫£n admin!\");\n      return;\n    }\n\n    if (window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a user \"${username}\"?`)) {\n      const result = await onDeleteUser(userId);\n      if (!result.success) {\n        alert(result.error);\n      }\n    }\n  };\n\n  // H√ÄM M·ªöI: L·∫§Y DANH S√ÅCH NICK C·ª¶A USER\n  const fetchUserNicks = async (userId, username) => {\n    setLoadingNicks(true);\n    setSelectedUser({ id: userId, username });\n\n    try {\n      const response = await fetch(\n        `https://bebannickgam-deploy-2.onrender.com/api/users/${userId}/nicks`\n      );\n      const data = await response.json();\n      setUserNicks(data.nicks || []);\n      setShowNicksModal(true);\n    } catch (error) {\n      console.error(\"Error fetching user nicks:\", error);\n      alert(\"L·ªói khi l·∫•y danh s√°ch nick\");\n    } finally {\n      setLoadingNicks(false);\n    }\n  };\n\n  // H√ÄM M·ªöI: X√ìA NICK TRONG MODAL\n  const handleDeleteNick = async (nickId, nickTitle) => {\n    if (window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a nick \"${nickTitle}\"?`)) {\n      const success = await deleteAccount(nickId);\n      if (success) {\n        // C·∫¨P NH·∫¨T L·∫†I DANH S√ÅCH NICK SAU KHI X√ìA\n        setUserNicks(userNicks.filter((nick) => nick.id !== nickId));\n        alert(\"ƒê√£ x√≥a nick th√†nh c√¥ng!\");\n      }\n    }\n  };\n\n  // H√ÄM M·ªöI: ƒê√ìNG MODAL\n  const handleCloseNicksModal = () => {\n    setShowNicksModal(false);\n    setSelectedUser(null);\n    setUserNicks([]);\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-4\">\n      <div className=\"bg-gradient-to-br from-purple-900 via-pink-800 to-red-900 rounded-2xl shadow-xl p-6 border-2 border-yellow-400\">\n        {/* N√öT QUAY L·∫†I */}\n        <div className=\"mb-6 text-center\">\n          <button\n            onClick={onBackToNicks}\n            className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 font-bold shadow-lg border-2 border-white transform hover:scale-105\"\n          >\n            ‚Ü©Ô∏è Quay l·∫°i Qu·∫£n l√Ω Nick\n          </button>\n        </div>\n\n        {/* HEADER */}\n        <div className=\"text-center mb-6\">\n          <h1 className=\"text-2xl font-bold bg-gradient-to-r from-yellow-300 via-pink-400 to-purple-400 bg-clip-text text-transparent\">\n            üë• Qu·∫£n L√Ω T√†i Kho·∫£n\n          </h1>\n          <p className=\"text-yellow-300 text-sm mt-2\">\n            Qu·∫£n l√Ω t·∫•t c·∫£ t√†i kho·∫£n ng∆∞·ªùi d√πng trong h·ªá th·ªëng\n          </p>\n        </div>\n\n        {/* ADD USER & DATABASE BUTTONS */}\n        <div className=\"mb-6 text-center flex justify-center space-x-4\">\n          <button\n            onClick={() => setShowAddForm(!showAddForm)}\n            className=\"bg-gradient-to-r from-green-400 to-teal-500 text-white px-6 py-3 rounded-lg hover:from-green-500 hover:to-teal-600 transition-all duration-300 font-bold shadow-lg border-2 border-white transform hover:scale-105\"\n          >\n            {showAddForm ? \"‚ùå H·ªßy\" : \"‚ûï Th√™m T√†i Kho·∫£n M·ªõi\"}\n          </button>\n\n          {/* TH√äM N√öT N√ÄY - CH·ªà HI·ªÜN CHO ADMIN G·ªêC */}\n          {currentUser?.id === 1 && (\n            <button\n              onClick={() => navigate(\"/database\")}\n              className=\"bg-gradient-to-r from-purple-500 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-pink-700 transition-all duration-300 font-bold shadow-lg border-2 border-white transform hover:scale-105\"\n            >\n              üóÉÔ∏è C∆° S·ªü D·ªØ Li·ªáu\n            </button>\n          )}\n        </div>\n\n        {/* ADD USER FORM */}\n        {showAddForm && (\n          <div className=\"bg-gradient-to-r from-purple-800 to-pink-700 rounded-lg p-6 mb-6 border-2 border-yellow-400\">\n            <h3 className=\"text-lg font-bold text-yellow-400 mb-4\">\n              Th√™m t√†i kho·∫£n m·ªõi\n            </h3>\n            <form onSubmit={handleAddUser} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-yellow-300 font-medium mb-2\">\n                  T√™n ƒëƒÉng nh·∫≠p\n                </label>\n                <input\n                  type=\"text\"\n                  value={newUsername}\n                  onChange={(e) => setNewUsername(e.target.value)}\n                  className=\"w-full px-3 py-2 rounded-lg bg-purple-900 border-2 border-yellow-400 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-yellow-300 font-medium mb-2\">\n                  M·∫≠t kh·∫©u\n                </label>\n                <input\n                  type=\"password\"\n                  value={newPassword}\n                  onChange={(e) => setNewPassword(e.target.value)}\n                  className=\"w-full px-3 py-2 rounded-lg bg-purple-900 border-2 border-yellow-400 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400\"\n                  required\n                />\n              </div>\n              {error && (\n                <div className=\"bg-red-500 text-white p-3 rounded-lg text-center\">\n                  {error}\n                </div>\n              )}\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-purple-900 font-bold py-3 rounded-lg hover:from-yellow-500 hover:to-orange-600 transition-all duration-300 disabled:opacity-50\"\n              >\n                {loading ? \"‚è≥ ƒêang th√™m...\" : \"üíæ Th√™m T√†i Kho·∫£n\"}\n              </button>\n            </form>\n          </div>\n        )}\n\n        {/* USERS LIST */}\n        <div className=\"space-y-4\">\n          <h3 className=\"text-lg font-bold text-yellow-400 mb-4\">\n            Danh s√°ch t√†i kho·∫£n ({users.length})\n          </h3>\n\n          {users.map((user) => (\n            <div\n              key={user.id}\n              className=\"bg-gradient-to-r from-purple-700 to-pink-600 rounded-lg p-4 border-2 border-yellow-400\"\n            >\n              <div className=\"flex justify-between items-center\">\n                <div className=\"flex items-center space-x-4\">\n                  <div\n                    className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${\n                      user.role === \"admin\"\n                        ? \"bg-gradient-to-r from-red-500 to-pink-600\"\n                        : \"bg-gradient-to-r from-blue-500 to-purple-600\"\n                    }`}\n                  >\n                    {user.role === \"admin\" ? \"A\" : \"U\"}\n                  </div>\n                  <div>\n                    <p className=\"text-white font-bold\">{user.username}</p>\n                    <p\n                      className={`text-sm ${\n                        user.role === \"admin\" ? \"text-red-300\" : \"text-blue-300\"\n                      }`}\n                    >\n                      {user.role === \"admin\" ? \"Qu·∫£n tr·ªã vi√™n\" : \"Ng∆∞·ªùi d√πng\"}\n                    </p>\n                    <p className=\"text-gray-300 text-xs\">\n                      ƒêƒÉng k√Ω:{\" \"}\n                      {new Date(user.created_at).toLocaleDateString(\"vi-VN\")}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex space-x-2\">\n                  {/* N√öT M·ªöI: DANH S√ÅCH NICK */}\n                  <button\n                    onClick={() => fetchUserNicks(user.id, user.username)}\n                    disabled={loadingNicks}\n                    className=\"bg-gradient-to-r from-blue-400 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-blue-500 hover:to-purple-600 transition-all duration-300 text-sm font-bold border border-white disabled:opacity-50\"\n                    title=\"Xem danh s√°ch nick\"\n                  >\n                    {loadingNicks && selectedUser?.id === user.id ? \"‚è≥\" : \"üìã\"}{\" \"}\n                    Danh s√°ch nick\n                  </button>\n\n                  {user.id !== 1 && (\n                    <button\n                      onClick={() => handleDeleteUser(user.id, user.username)}\n                      className=\"bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-lg hover:from-red-600 hover:to-pink-700 transition-all duration-300 text-sm font-bold border border-white\"\n                      title=\"X√≥a user\"\n                    >\n                      üóëÔ∏è X√≥a\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {users.length === 0 && (\n            <div className=\"text-center py-8 text-yellow-300\">\n              <p>Ch∆∞a c√≥ t√†i kho·∫£n n√†o trong h·ªá th·ªëng</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* MODAL DANH S√ÅCH NICK - TH√äM M·ªöI */}\n      {showNicksModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-gradient-to-br from-purple-900 via-pink-800 to-red-900 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto border-2 border-yellow-400 relative\">\n            {/* CLOSE BUTTON */}\n            <button\n              onClick={handleCloseNicksModal}\n              className=\"absolute top-4 right-4 bg-gradient-to-r from-red-500 to-pink-600 text-white text-lg w-10 h-10 rounded-full hover:from-red-600 hover:to-pink-700 transition-all duration-300 z-20 shadow-lg border border-white flex items-center justify-center\"\n            >\n              ‚úï\n            </button>\n\n            <div className=\"relative z-10 p-6\">\n              {/* HEADER */}\n              <div className=\"text-center mb-6\">\n                <h2 className=\"text-2xl font-bold bg-gradient-to-r from-yellow-300 via-pink-400 to-purple-400 bg-clip-text text-transparent\">\n                  üìã Danh s√°ch nick c·ªßa {selectedUser?.username}\n                </h2>\n                <p className=\"text-yellow-300 text-sm mt-2\">\n                  T·ªïng s·ªë: {userNicks.length} nick\n                </p>\n              </div>\n\n              {/* DANH S√ÅCH NICK */}\n              <div className=\"space-y-3\">\n                {userNicks.length > 0 ? (\n                  userNicks.map((nick) => (\n                    <div\n                      key={nick.id}\n                      className=\"bg-gradient-to-r from-purple-800 to-pink-700 rounded-lg p-4 border-2 border-yellow-400\"\n                    >\n                      <div className=\"flex justify-between items-center\">\n                        <div className=\"flex-1\">\n                          <h3 className=\"text-white font-bold text-lg\">\n                            {nick.title}\n                          </h3>\n                          <div className=\"flex flex-wrap gap-2 mt-2\">\n                            <span className=\"bg-yellow-500 text-purple-900 text-xs px-2 py-1 rounded\">\n                              {nick.category}\n                            </span>\n                            <span className=\"bg-green-500 text-white text-xs px-2 py-1 rounded\">\n                              {nick.price.toLocaleString()} VNƒê\n                            </span>\n                            <span className=\"bg-blue-500 text-white text-xs px-2 py-1 rounded\">\n                              {new Date(nick.created_at).toLocaleDateString(\n                                \"vi-VN\"\n                              )}\n                            </span>\n                          </div>\n                        </div>\n                        <button\n                          onClick={() => handleDeleteNick(nick.id, nick.title)}\n                          className=\"bg-gradient-to-r from-red-500 to-pink-600 text-white px-3 py-2 rounded-lg hover:from-red-600 hover:to-pink-700 transition-all duration-300 text-sm font-bold border border-white ml-4\"\n                          title=\"X√≥a nick\"\n                        >\n                          üóëÔ∏è X√≥a\n                        </button>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"text-center py-8 text-yellow-300\">\n                    <p>User n√†y ch∆∞a c√≥ nick game n√†o</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}